<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>想吃、點什麼嗎？</title>
        <link rel="stylesheet" href="../css/style.css" />
        <script src="../js/fontawesome.js"></script>
        <script src="../js/jquery.min.js"></script>
        <script src="../js/ng.js"></script>
        <script src="../js/app.js"></script>
    </head>
    <body ng-app="myApp" ng-controller="myCtrl">
        <header>
            <a href="http://localhost/web/School_project/pages/index.html"
                >想吃、點什麼嗎？</a
            >
        </header>
        <main>
            <div class="search-bar-container">
                <div class="search-bar">
                    <input
                        class="search"
                        type="text"
                        name="product"
                        ng-model="product"
                        placeholder="今天想吃什麼？"
                    />
                    <button class="search-button" ng-click="handleSearch()">
                        搜尋
                    </button>
                </div>
            </div>
            <div class="card-container">
                <div
                    class="card"
                    ng-repeat="restaurant in restaurants"
                    key="restaurant.id"
                    ng-click="chooseRestaurant(restaurant)"
                >
                    <img
                        class="card-image"
                        ng-src="{{ restaurant.hero_image }}"
                    />
                    <div>{{ restaurant.name }}</div>
                    <div>{{ restaurant.address }}</div>
                    <div>{{ restaurant.rating }}</div>
                    <div>{{ restaurant.minimum_delivery_time }}</div>
                    <div>
                        外送服務費＄{{ restaurant.minimum_delivery_fee }}
                    </div>
                </div>
            </div>
            <!--  -->
            <div>
                <div ng-repeat="categorie in categories" key="categorie.id">
                    <div>{{ categorie.name }}</div>
                    <div
                        class="product"
                        ng-repeat="product in categorie.products"
                        key="product.id"
                    >
                        <div
                            style="
                                display: flex;
                                border: 1px solid #ddd;
                                border-radius: 5px;
                                padding: 10px;
                            "
                        >
                            <div
                                style="flex: none; width: 150px; height: 120px"
                            >
                                <img style="width:100%; height: 100%;" ng-src="{{ product.logo_path }}" />
                            </div>
                            <div>
                                <div>{{ product.name }}</div>
                                <div>
                                    {{ product.product_variations[0].price }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>
